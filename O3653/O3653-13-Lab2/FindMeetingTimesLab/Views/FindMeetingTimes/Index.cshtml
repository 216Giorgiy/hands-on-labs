@model IEnumerable<FindMeetingTimesLab.Models.MeetingTimeCandidate>

@{
    ViewBag.Title = "FindMeetingTimes";
}

<h2>FindMeetingTimes</h2>

<div class="row" style="margin-top:50px;">
    <div class="col-sm-12">
        @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage))
        {
            <div class="alert alert-danger">@ViewBag.ErrorMessage</div>
        }
        <div class="panel panel-default">
            <div class="panel-body">
                <form class="form-inline" action="/FindMeetingTimes/Index" method="post">
                    <div class="form-group">
                        <input type="text" class="form-control" name="Attendees" id="attendees" style="width: 300px;" placeholder="alex@company.com,bob@company.com" />
                    </div>                    
                    <input type="hidden" name="eventId" value="@Request.Params["eventId"]" />
                    <button type="submit" class="btn btn-default">Find Meeting Times</button>
                </form>
            </div>
        </div>
        <div class="table-responsive">
            <table id="calendarTable" class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>StartDate</th>
                        <th>StartTime</th>
                        <th>EndDate</th>
                        <th>EndTime</th>
                        <th>Confidence</th>
                        <th>Score</th>
                        <th>Location Name</th>
                        <th>Location Address</th>
                        <th>Location Coordinates</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
            {
                foreach (var meetingTimeCandidate in Model)
                {
                            <tr>
                                <td>
                                    @meetingTimeCandidate.StartDate
                                </td>
                                <td>
                                    @meetingTimeCandidate.StartTime
                                </td>
                                <td>
                                    @meetingTimeCandidate.EndDate
                                </td>
                                <td>
                                    @meetingTimeCandidate.EndTime
                                </td>
                                <td>
                                    @meetingTimeCandidate.Confidence
                                </td>
                                <td>
                                    @meetingTimeCandidate.Score
                                </td>
                                <td>
                                    @meetingTimeCandidate.LocationDisplayName
                                </td>
                                <td>
                                    @meetingTimeCandidate.LocationAddress
                                </td>
                                <td>
                                    @meetingTimeCandidate.LocationCoordinates
                                </td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>

